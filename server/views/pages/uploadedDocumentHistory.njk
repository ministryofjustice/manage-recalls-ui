
{% extends "../partials/layout.njk" %}

{% set pageTitle = applicationName + " - Uploaded document change history" %}

{% block content %}
    <div class="govuk-grid-row">
        <div class="govuk-grid-column-full">
            <h1 class="govuk-heading-xl">
                Uploaded document change history
            </h1>
            {% if documentHistory.items %}
            <h2 class='govuk-heading-l'>
                Why the {{ formatDocLabel(documentHistory.category) }} was changed
            </h2>
            {% for document in documentHistory.items %}
            <h3 class="govuk-heading-m govuk-visually-hidden" data-qa='document-{{ document.documentId }}-heading'>Version {{ document.version }}</h3>
            <dl class="govuk-summary-list govuk-!-margin-bottom-4 govuk-!-width-two-thirds_" data-qa='document-{{ document.documentId }}-row'>
                <div class="govuk-summary-list__row">
                    <dt class="govuk-summary-list__key">Document</dt>
                    <dd class="govuk-summary-list__value">
                        <a href="{{ document.url }}" class="govuk-link" target="_blank" data-qa='document-{{ document.documentId }}-link'>
                            {{ documentHistory.standardFileName }}
                        </a> <span class="grey-text" data-qa='document-{{ document.documentId }}-version'>(version {{ document.version }})</span>
                    </dd>
                </div>
                <div class="govuk-summary-list__row">
                    <dt class="govuk-summary-list__key govuk-!-width-one-third">Details</dt>
                    <dd class="govuk-summary-list__value" data-qa='document-{{ document.documentId }}-detail'>{{ document.detail }}</dd>
                </div>
            </dl>
            <p class="govuk-!-margin-bottom-9 govuk-!-margin-top-0 govuk-body-s grey-text" data-qa='document-{{ document.documentId }}-uploaded-by'>Uploaded by {{ document.createdByUserName}} on {{ document.createdDateTime | dateTime }}</p>
            {% endfor %}
            {% else %}
            <p class='govuk-body'>No document history for the {{ formatDocLabel(documentHistory.category) }}.</p>
            {% endif %}
        </div>
    </div>
{% endblock %}
