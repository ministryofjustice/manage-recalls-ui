{% extends "../partials/layout.njk" %}
{% from "govuk/components/table/macro.njk" import govukTable %}
{%- from "moj/components/search/macro.njk" import mojSearch -%}
{% from "govuk/components/button/macro.njk" import govukButton %}

{% set pageTitle = applicationName + " - Assess Recall" %}

{% block content %}

    <div class="govuk-grid-row">
        <div class="govuk-grid-column-full">
            <h1 class="govuk-heading-l" data-qa='personName'>
                {{ person.firstName }} {{ person.lastName }}
            </h1>
            <h2 class='govuk-heading-m'>Recall ID: <span data-qa='recallId'>{{ recall.recallId }}</span></h2>
            <h2 class='govuk-heading-m'>About the person</h2>
            <dl class="govuk-summary-list">
                <div class="govuk-summary-list__row">
                    <dt class="govuk-summary-list__key">
                        First name
                    </dt>
                    <dd class="govuk-summary-list__value">
                        {{ person.firstName }}
                    </dd>
                </div>
                <div class="govuk-summary-list__row">
                    <dt class="govuk-summary-list__key">
                        Middle names
                    </dt>
                    <dd class="govuk-summary-list__value">
                        {{ person.middleNames }}
                    </dd>
                </div>
                <div class="govuk-summary-list__row">
                    <dt class="govuk-summary-list__key">
                        Last name
                    </dt>
                    <dd class="govuk-summary-list__value">
                        {{ person.lastName }}
                    </dd>
                </div>
                <div class="govuk-summary-list__row">
                    <dt class="govuk-summary-list__key">
                        Date of birth
                    </dt>
                    <dd class="govuk-summary-list__value">
                        {{ person.dateOfBirth | date }}
                    </dd>
                </div>
                <div class="govuk-summary-list__row">
                    <dt class="govuk-summary-list__key">
                        Gender
                    </dt>
                    <dd class="govuk-summary-list__value">
                        {{ person.gender }}
                    </dd>
                </div>
                <div class="govuk-summary-list__row">
                    <dt class="govuk-summary-list__key">
                        CRO
                    </dt>
                    <dd class="govuk-summary-list__value">
                        {{ person.croNumber }}
                    </dd>
                </div>
                <div class="govuk-summary-list__row">
                    <dt class="govuk-summary-list__key">
                        PNC
                    </dt>
                    <dd class="govuk-summary-list__value">
                        {{ person.pncNumber }}
                    </dd>
                </div>
                <div class="govuk-summary-list__row">
                    <dt class="govuk-summary-list__key">
                        NOMIS
                    </dt>
                    <dd class="govuk-summary-list__value">
                        {{ person.nomsNumber }}
                    </dd>
                </div>
            </dl>
            {% if recall.documents.length %}
            <h2 class='govuk-heading-m'>Uploaded documents</h2>
            <dl class="govuk-summary-list">
                <div class="govuk-summary-list__row">
            {% for document in recall.documents %}
                <dt class="govuk-summary-list__key">
                    {{ document.category }}
                </dt>
                <dd class="govuk-summary-list__value" data-qa='uploadedDocument-{{ document.category }}'>
                    {{ document.documentId }}
                </dd>
            {% endfor %}
            </dl>
            {% endif %}
            <p class='govuk-body'>
                <a href="/get-revocation-order?recallId={{ recall.recallId }}" role='button' class="govuk-button" data-module="govuk-button"
                   data-qa="getRevocationOrderButton" download>
                    Download revocation order
                </a>
            </p>

        </div>
    </div>

{% endblock %}
